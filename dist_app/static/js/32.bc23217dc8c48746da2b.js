webpackJsonp([32],{"9ixp":function(e,t){},Qbew:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("odqc"),a=s("Znkm"),n=s("fBcm"),r=s("b+jt"),o=s("Q6Ck"),l=(i.a,a.a,n.a,r.a,o.a,{name:"EnvironmentSetup",components:{Tab:i.a,TabItem:a.a,Swiper:n.a,SwiperItem:r.a,mainList:o.a},data:function(){return{isStatus:!1,listTitle:["物料清单","设备清单","试验方法"],setIndex:0,listActively:"物料清单",islistData:!1,islistDataExbom:!1,searchText:"",Testengineer_exbomList:[],islistDataTwo:!1,Testengineer_exeqrequiredList:[],exeqrequiredDetail:{}}},mounted:function(){this.$emit("setHeaderShow",{blod:!0,title:"实验室环境搭建管理"}),this.listActively=this.$store.state.ApplyRepair.ApplyRepairIndex?this.$store.state.ApplyRepair.ApplyRepairIndex:"物料清单",this.getTestengineer_exbomList(1,"",12),this.getTestengineer_exeqrequiredList()},methods:{goApplyRepair:function(e){this.$router.push({name:"ApplyRepair",query:{projectID:e.id,projectName:e.name,projectNumber:e.num,projectRoom:e.room}})},getTestengineer_exbomList:function(e,t,s,i,a,n){var r=this;this.$vux.loading.show(),this.$http.get(1==e?this.$conf.env.getTestengineer_exbomList+this.$route.query.projectID+"&search="+t+"&page_size="+s:this.$conf.env.getTestengineer_exbomList+this.$route.query.projectID+"&search="+t+"&p="+e+"&page_size="+s).then(function(s){t?n(s.data.results):r.Testengineer_exbomList=1==e?s.data.results:r.Testengineer_exbomList.concat(s.data.results),1!=e?s.data.next?i():a():s.data.next?r.$refs.mainList.scrollpullupStatus(!1):r.$refs.mainList.scrollpullupStatus(!0),r.islistDataExbom=!(r.Testengineer_exbomList.length>0),r.$vux.loading.hide()}).catch(function(e){r.$vux.loading.hide(),r.$refs.mainList.scrollpullupStatus(!0),r.$vux.toast.text(e.response?e.response.data:"服务器错误","top")})},loadmore:function(e,t,s){this.getTestengineer_exbomList(e,this.searchText,12,function(){t()},function(){s()})},getTestengineer_exeqrequiredList:function(){var e=this;this.$vux.loading.show(),this.$http.get(this.$conf.env.getTestengineer_exeqrequiredList+this.$route.query.projectID).then(function(t){e.Testengineer_exeqrequiredList=t.data,e.$refs.mainListTwo.scrollpullupStatus(!0),e.islistDataTwo=!(e.Testengineer_exeqrequiredList.length>0),e.$vux.loading.hide()}).catch(function(t){console.log(t),e.$vux.loading.hide(),e.$vux.toast.text(t.response?t.response.data:"服务器错误","top")})},getTestengineer_exeqrequiredDetail:function(){var e=this;this.$vux.loading.show(),this.$http.get(this.$conf.env.getTestengineer_exeqrequiredDetail+this.$route.query.projectID+"/").then(function(t){e.exeqrequiredDetail=t.data,e.$vux.loading.hide()}).catch(function(t){console.log(t),e.$vux.loading.hide(),e.$vux.toast.text(t.response?t.response.data:"服务器错误","top")})}},beforeRouteLeave:function(e,t,s){"ApplyRepair"==e.name?this.$store.commit("changeApplyRepairIndex",this.listTitle[1]):this.$store.commit("changeApplyRepairIndex",this.listTitle[0]),s()}}),c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"EnvironmentSetup body_main "},[i("tab",{attrs:{"line-width":2,"active-color":"#07A695","custom-bar-width":"1.8rem"},model:{value:e.setIndex,callback:function(t){e.setIndex=t},expression:"setIndex"}},e._l(e.listTitle,function(t,s){return i("tab-item",{key:s,staticClass:"vux-center",attrs:{selected:e.listActively===t},on:{click:function(s){e.listActively=t}}},[e._v(e._s(t))])}),1),e._v(" "),i("swiper",{attrs:{"show-dots":!1,"prevent-default":!1},model:{value:e.setIndex,callback:function(t){e.setIndex=t},expression:"setIndex"}},[i("swiper-item",[i("main-list",{ref:"mainList",attrs:{islistData:e.islistDataExbom},on:{loadmore:e.loadmore}},[e._l(e.Testengineer_exbomList,function(t,a){return i("li",{key:a,on:{click:function(s){return e.goMaterialFlow(t)}}},[i("div",{staticClass:"firstChild ststusTextTrue"},[i("span",{staticClass:"projectNumber"},[e._v(e._s(t.nateriel_num))])]),e._v(" "),i("div",{staticClass:"twoChild equilpmentName"},[i("span",{staticClass:"projectName"},[e._v("项目名称："+e._s(t.name))])]),e._v(" "),i("div",{staticClass:"Time thereChild explain"},[i("i"),i("span",{staticClass:"time_end"},[e._v("试验数量："+e._s(t.num))]),i("span",{staticClass:"explain"},[i("img",{attrs:{src:s("wEYv"),alt:""}}),i("p",[e._v(e._s(t.device_type))])])]),e._v(" "),i("div",{staticClass:"Time thereChild"},[i("span",{staticClass:"right_natrue",staticStyle:{"margin-left":"0"}},[i("i",[e._v("备注:"+e._s(t.remark))])])])])})],2)],1),e._v(" "),i("swiper-item",[i("main-list",{ref:"mainListTwo",attrs:{islistData:e.islistDataTwo}},[e._l(e.Testengineer_exeqrequiredList,function(t,s){return i("li",{key:s},[i("div",{staticClass:"firstChild ststusTextTrue"},[i("span",{staticClass:"projectNumber"},[e._v(e._s(t.num))]),e._v(" "),i("span",{staticClass:"editBox"},[i("span",{staticClass:"delete ststusText",on:{click:function(s){return e.goApplyRepair(t)}}},[e._v("故障")]),i("span",{staticClass:"edit ststusText"},[e._v("正常")])])]),e._v(" "),i("div",{staticClass:"twoChild equilpmentName"},[i("span",{staticClass:"projectName"},[e._v("项目名称："+e._s(t.name))])]),e._v(" "),i("div",{staticClass:"Time thereChild"},[i("span",{staticClass:"right_natrue",staticStyle:{"margin-left":"0"}},[i("i",[e._v("备注:"+e._s(t.remark))])])])])})],2)],1),e._v(" "),i("swiper-item",[i("main-list",{ref:"mainListThere",attrs:{islistData:!1}},[[i("li",[i("div",{staticClass:"twoChild equilpmentName"},[i("span",{staticClass:"projectName lookfile"},[e._v("试验操作："),i("a",{staticClass:"ststusText",staticStyle:{color:"#07a695"},attrs:{href:e.exeqrequiredDetail.operation,download:"w3logo"}},[e._v("查看")])])])])]],2)],1)],1)],1)},staticRenderFns:[]};var u=s("VU/8")(l,c,!1,function(e){s("9ixp")},null,null);t.default=u.exports}});
//# sourceMappingURL=32.bc23217dc8c48746da2b.js.map
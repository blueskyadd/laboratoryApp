webpackJsonp([109],{EHFA:function(t,e){},GCso:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7biW"),s=a("Q6Ck"),n=(i.a,s.a,{name:"MaterialManage ",components:{Search:i.a,mainList:s.a},data:function(){return{searchText:"",islistData:!1,MaterialEngineer_materielList:[]}},mounted:function(){this.$emit("setHeaderShow",{blod:!0,title:"物料管理"}),this.getMaterialEngineer_materielList(1,"",12)},methods:{goProposerMaterial:function(t){this.$router.push({name:"ProposerMaterial",query:{projectID:t.id}})},getMaterialEngineer_materielList:function(t,e,a,i,s,n){var r=this;this.$vux.loading.show(),this.$http.get(1==t?this.$conf.env.getMaterialEngineer_materielList+"?search="+e+"&page_size="+a:this.$conf.env.getMaterialEngineer_materielList+"?search="+e+"&p="+t+"&page_size="+a).then(function(a){e?n(a.data.results):r.MaterialEngineer_materielList=1==t?a.data.results:r.MaterialEngineer_materielList.concat(a.data.results),1!=t?a.data.next?i():s():a.data.next?r.$refs.mainList.scrollpullupStatus(!1):r.$refs.mainList.scrollpullupStatus(!0),r.islistData=!(r.MaterialEngineer_materielList.length>0),r.$vux.loading.hide()}).catch(function(t){r.$vux.loading.hide(),r.$refs.mainList.scrollpullupStatus(!0),r.$vux.toast.text(t.response?t.response.data:"服务器错误","top")})},loadmore:function(t,e,a){this.getMaterialEngineer_materielList(t,this.searchText,12,function(){e()},function(){a()})},searchList:function(t){var e=this;this.searchText=t,this.getMaterialEngineer_materielList(1,t,500,function(){},function(){},function(t){e.MaterialEngineer_materielList=t})}}}),r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MaterialManage body_main"},[i("Search",{on:{searchList:t.searchList}}),t._v(" "),i("main-list",{ref:"mainList",attrs:{islistData:t.islistData},on:{loadmore:t.loadmore}},[t._l(t.MaterialEngineer_materielList,function(e,s){return i("li",{key:s,on:{click:function(a){return t.goProposerMaterial(e)}}},[i("div",{staticClass:"firstChild ststusTextTrue"},[i("span",{staticClass:"projectNumber rightStatus"},[t._v(t._s(e.nateriel_num))]),t._v(" "),i("span",{staticClass:"number ststusText",style:{color:e.inventory<e.safe_inventory?"":"#07A695"}},[t._v(t._s(e.inventory))])]),t._v(" "),i("div",{staticClass:"twoChild equilpmentName materialSafety"},[i("span",[t._v("物料名称："+t._s(e.name))]),i("span",{staticClass:"safety"},[t._v("安全库存数："+t._s(e.safe_inventory))])]),t._v(" "),i("div",{staticClass:"twoChild"},[i("span",{staticClass:"unit"},[t._v("单位：元")]),i("span",{staticClass:"unitPrice"},[t._v("单价："+t._s(e.unit_price))])]),t._v(" "),i("div",{staticClass:"Time thereChild explain"},[i("span",{staticClass:"time_end"},[i("i"),t._v("采购周期："+t._s(e.purchase_cycle))]),i("span",{staticClass:"location materialId"},[i("img",{attrs:{src:a("3BUj"),alt:""}}),i("p",[t._v(t._s(e.create_time))])]),i("span",{staticClass:"explain"},[i("img",{attrs:{src:a("wEYv"),alt:""}}),i("p",[t._v(t._s(1==e.device_type?"易损件":"原件"))])])])])})],2)],1)},staticRenderFns:[]};var l=a("VU/8")(n,r,!1,function(t){a("EHFA")},null,null);e.default=l.exports}});
//# sourceMappingURL=109.e5ddd97c8dd43a634c1c.js.map
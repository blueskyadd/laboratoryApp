webpackJsonp([67],{YEGr:function(t,e){},p2is:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7biW"),s=a("Q6Ck"),n=a("odqc"),r=a("Znkm"),l=a("fBcm"),c=a("b+jt"),o=(i.a,s.a,n.a,r.a,l.a,c.a,{name:"materialReturn",components:{Search:i.a,mainList:s.a,Tab:n.a,TabItem:r.a,Swiper:l.a,SwiperItem:c.a},data:function(){return{isStatus:!1,list2:["试验物料","维修物料"],index:0,demo2:"试验物料",islistDataIndex:!1,searchTextIndex:"",searchText:"",islistData:!1,MaterialEngineer_testbackList:[],MaterialEngineer_maintainbackList:[]}},mounted:function(){this.$emit("setHeaderShow",{blod:!0,title:"物料归还"}),this.getMaterialEngineer_testbackList(1,"",12),this.getMaterialEngineer_maintainbackList(1,"",12)},methods:{goMaterialReturnForm:function(t,e){this.$router.push({name:"MaterialReturnForm",query:{projectID:t.id,flag:e}})},getMaterialEngineer_testbackList:function(t,e,a,i,s,n){var r=this;this.$vux.loading.show(),this.$http.get(1==t?this.$conf.env.getMaterialEngineer_testbackList+"?search="+e+"&page_size="+a:this.$conf.env.getMaterialEngineer_testbackList+"?search="+e+"&p="+t+"&page_size="+a).then(function(a){e?n(a.data.results):r.MaterialEngineer_testbackList=1==t?a.data.results:r.MaterialEngineer_testbackList.concat(a.data.results),1!=t?a.data.next?i():s():a.data.next?r.$refs.mainList.scrollpullupStatus(!1):r.$refs.mainList.scrollpullupStatus(!0),r.islistData=!(r.MaterialEngineer_testbackList.length>0),r.$vux.loading.hide()}).catch(function(t){r.$vux.loading.hide(),r.$refs.mainList.scrollpullupStatus(!0),r.$vux.toast.text(t.response?t.response.data:"服务器错误","top")})},getMaterialEngineer_maintainbackList:function(t,e,a,i,s,n){var r=this;this.$vux.loading.show(),this.$http.get(1==t?this.$conf.env.getMaterialEngineer_maintainbackList+"?search="+e+"&page_size="+a:this.$conf.env.getMaterialEngineer_maintainbackList+"?search="+e+"&p="+t+"&page_size="+a).then(function(a){e?n(a.data.results):r.MaterialEngineer_maintainbackList=1==t?a.data.results:r.MaterialEngineer_maintainbackList.concat(a.data.results),1!=t?a.data.next?i():s():a.data.next?r.$refs.mainListIndex.scrollpullupStatus(!1):r.$refs.mainListIndex.scrollpullupStatus(!0),r.islistDataIndex=!(r.MaterialEngineer_maintainbackList.length>0),r.$vux.loading.hide()}).catch(function(t){r.$vux.loading.hide(),r.$refs.mainListIndex.scrollpullupStatus(!0),r.$vux.toast.text(t.response?t.response.data:"服务器错误","top")})},loadmore:function(t,e,a){0==this.index?this.getMaterialEngineer_testbackList(t,this.searchText,12,function(){e()},function(){a()}):this.getMaterialEngineer_maintainbackList(t,this.searchTextIndex,12,function(){e()},function(){a()})},searchList:function(t){var e=this;0==this.index?(this.searchText=t,this.getMaterialEngineer_testbackList(1,t,500,function(){},function(){},function(t){e.MaterialEngineer_testbackList=t})):(this.searchTextIndex=t,this.getMaterialEngineer_maintainbackList(1,t,500,function(){},function(){},function(t){e.MaterialEngineer_maintainbackList=t}))}},watch:{index:function(){0==this.index?this.$refs.searchList.setValue(this.searchText):this.$refs.searchList.setValue(this.searchTextIndex)}}}),u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"materialReturn body_main"},[i("Search",{ref:"searchList",on:{searchList:t.searchList}}),t._v(" "),i("div",{staticClass:"swiper_box"},[i("tab",{attrs:{"line-width":2,"active-color":"#07A695","custom-bar-width":"1.8rem"},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},t._l(t.list2,function(e,a){return i("tab-item",{key:a,staticClass:"vux-center",attrs:{selected:t.demo2===e},on:{click:function(a){t.demo2=e}}},[t._v(t._s(e))])}),1),t._v(" "),i("swiper",{attrs:{"show-dots":!1},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},[i("swiper-item",[i("main-list",{ref:"mainList",attrs:{islistData:t.islistData},on:{loadmore:t.loadmore}},[t._l(t.MaterialEngineer_testbackList,function(e,s){return i("li",{key:s,on:{click:function(a){return t.goMaterialReturnForm(e,!0)}}},[i("div",{staticClass:"firstChild ststusTextTrue"},[i("span",{staticClass:"projectNumber"},[t._v(t._s(e.experiment_num))])]),t._v(" "),i("div",{staticClass:"twoChild equilpmentName"},[i("span",[t._v("试验名称："+t._s(e.name))])]),t._v(" "),i("div",{staticClass:"Time thereChild"},[i("i"),i("span",{staticClass:"time_end"},[t._v("试验性质："+t._s(e.project_type))]),i("span",{staticClass:"name"},[i("img",{attrs:{src:a("j+G4"),alt:""}}),i("p",[t._v(t._s(e.engineer))])]),i("span",{staticClass:"location"},[i("img",{attrs:{src:a("3BUj"),alt:""}}),i("p",[t._v(t._s(e.room))])])])])})],2)],1),t._v(" "),i("swiper-item",[i("main-list",{ref:"mainListIndex",attrs:{islistData:t.islistDataIndex},on:{loadmore:t.loadmore}},[t._l(t.MaterialEngineer_maintainbackList,function(e){return i("li",{key:e.id,on:{click:function(a){return t.goMaterialReturnForm(e,!1)}}},[i("div",{staticClass:"firstChild ststusTextTrue"},[i("span",{staticClass:"projectNumber"},[t._v(t._s(e.num))])]),t._v(" "),i("div",{staticClass:"twoChild equilpmentName"},[i("span",[t._v("设备名称："+t._s(e.name))])]),t._v(" "),i("div",{staticClass:"Time thereChild"},[i("span",{staticClass:"name"},[i("img",{attrs:{src:a("j+G4"),alt:""}}),i("p",{staticClass:"nameLoad"},[t._v(t._s(e.applicant))])]),i("span",{staticClass:"location"},[i("img",{attrs:{src:a("3BUj"),alt:""}}),i("p",[t._v(t._s(e.room))])])])])})],2)],1)],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(o,u,!1,function(t){a("YEGr")},null,null);e.default=d.exports}});
//# sourceMappingURL=67.db8768be829d59ea5d6e.js.map
webpackJsonp([92],{"7OEn":function(t,e){},L7v1:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7biW"),a=s("Q6Ck"),n=(i.a,a.a,{name:"principalEquipment",components:{Search:i.a,mainList:a.a},data:function(){return{isStatus:!1,Gauger_meqList:[],searchText:"",islistData:!1}},mounted:function(){this.$emit("setHeaderShow",{blod:!0,title:"负责计量设备数"}),this.getGauger_meqList(1,"",12)},methods:{overdueEquilpmentDetail:function(t){this.$router.push({name:"principalEquipmentDetail",query:{name:t.name}})},getGauger_meqList:function(t,e,s,i,a,n){var r=this;this.$vux.loading.show(),this.$http.get(1==t?this.$conf.env.getGauger_meqList+"?search="+e+"&page_size="+s:this.$conf.env.getGauger_meqList+"?search="+e+"&p="+t+"&page_size="+s).then(function(s){e?n(s.data.results):r.Gauger_meqList=1==t?s.data.results:r.Gauger_meqList.concat(s.data.results),1!=t?s.data.next?i():a():s.data.next?r.$refs.mainList.scrollpullupStatus(!1):r.$refs.mainList.scrollpullupStatus(!0),r.islistData=!(r.Gauger_meqList.length>0),r.$vux.loading.hide()}).catch(function(t){r.$vux.loading.hide(),r.$refs.mainList.scrollpullupStatus(!0),r.$vux.toast.text(t.response?t.response.data:"服务器错误","top")})},loadmore:function(t,e,s){this.getGauger_meqList(t,this.searchText,6,function(){e()},function(){s()})},searchList:function(t){var e=this;this.searchText=t,this.getGauger_meqList(1,t,500,function(){},function(){},function(t){e.Gauger_meqList=t})}}}),r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"principalEquipment body_main"},[i("Search",{on:{searchList:t.searchList}}),t._v(" "),i("main-list",{ref:"mainList",attrs:{islistData:t.islistData},on:{loadmore:t.loadmore}},[t._l(t.Gauger_meqList,function(e,a){return i("li",{key:a,on:{click:function(s){return t.overdueEquilpmentDetail(e)}}},[i("div",{staticClass:"firstChild ststusTextTrue"},[i("span",{staticClass:"projectNumber"},[t._v(t._s(e.num))]),t._v(" "),"正常"==e.status?i("span",{staticClass:"normal ststusText"},[i("i"),t._v("正常")]):i("span",{staticClass:"maintain ststusText"},[i("i"),t._v("维修中")])]),t._v(" "),i("div",{staticClass:"twoChild equilpmentName"},[i("span",[t._v("设备名称："+t._s(e.name))])]),t._v(" "),i("div",{staticClass:"twoChild"},[i("i"),i("span",[t._v("上次计量时间："+t._s(e.previous_metering_time))])]),t._v(" "),i("div",{staticClass:"Time thereChild"},[i("i"),i("span",{staticClass:"time_end time_overTime",staticStyle:{"margin-right":"0rem"}},[i("p",{staticClass:"overTime",staticStyle:{width:"3.5rem","margin-right":"0"}},[t._v(" 预计下次计量时间："+t._s(e.next_metering_time))])]),i("span",{staticClass:"name"},[i("img",{attrs:{src:s("j+G4"),alt:""}}),i("p",{staticStyle:{width:"1.7rem","margin-right":"0.1rem"}},[t._v(t._s(e.device_keeper))])]),i("span",{staticClass:"location"},[i("img",{attrs:{src:s("3BUj"),alt:""}}),i("p",{staticStyle:{"max-width":"1.8rem"}},[t._v(t._s(e.room))])])])])})],2)],1)},staticRenderFns:[]};var u=s("VU/8")(n,r,!1,function(t){s("7OEn")},null,null);e.default=u.exports}});
//# sourceMappingURL=92.6fa43c42ebba207a5961.js.map
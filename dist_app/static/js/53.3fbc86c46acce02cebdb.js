webpackJsonp([53],{HfUI:function(t,e){},d67r:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("HY5T"),p=(i.a,{name:"projectSelectDetail",components:{popupPicker:i.a},data:function(){return{popupMaterialObj:{placeholderTitle:"选择人员",popupTitle:"物料工程师",popupList:[],activelyData:[]},popupTestlObj:{placeholderTitle:"选择人员",popupTitle:"试验工程师",popupList:[],activelyData:[]}}},mounted:function(){this.$vux.loading.show(),this.$emit("setHeaderShow",{blod:!0,title:this.$route.query.projectName}),this.getLabmanage_projectEngineerList(),this.getLabmanage_materialEngineerList()},methods:{changeMaterial:function(t){this.popupMaterialObj.activelyData=t},changeTest:function(t){this.popupTestlObj.activelyData=t},getLabmanage_projectEngineerList:function(){var t=this;this.$http.get(this.$conf.env.getLabmanage_projectEngineerList).then(function(e){0!=e.data.length&&(e.data.forEach(function(t){t.value=t.id.toString()}),t.popupTestlObj.popupList=e.data)}).catch(function(e){t.$vux.toast.text(e.response?e.response.data:"服务器错误","top")})},getLabmanage_materialEngineerList:function(){var t=this;this.$http.get(this.$conf.env.getLabmanage_materialEngineerList).then(function(e){0!=e.data.length&&(e.data.forEach(function(t){t.value=t.id.toString()}),t.$vux.loading.hide(),t.popupMaterialObj.popupList=e.data)}).catch(function(e){t.$vux.loading.hide(),t.$vux.toast.text(e.response?e.response.data:"服务器错误","top")})},allocationLabmanage_EngineerList:function(){var t=this;console.log(this.popupTestlObj.activelyData[0],this.popupMaterialObj.activelyData[0]),this.popupTestlObj.activelyData[0]&&this.popupMaterialObj.activelyData[0]?this.$http.put(this.$conf.env.allocationLabmanage_EngineerList+this.$route.query.projectID+"/",{engineer:this.popupTestlObj.activelyData[0]-0,material_user:this.popupMaterialObj.activelyData[0]-0}).then(function(e){"200"==e.status?(t.$vux.toast.text("分配成功"),t.getLabmanage_projectEngineerList()):t.$vux.toast.text("分配失败")}).catch(function(e){t.$vux.toast.text(e.response?e.response.data:"服务器错误")}):this.$vux.toast.text("请选择具体分配工程师")}}}),n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"projectSelectDetail body_main"},[a("div",{staticStyle:{height:"calc(100% - 1rem)"}},[a("popup-picker",{attrs:{placeholderTitle:t.popupMaterialObj.placeholderTitle,popupTitle:t.popupMaterialObj.popupTitle,popupList:t.popupMaterialObj.popupList,activelyData:t.popupMaterialObj.activelyData},on:{changeData:t.changeMaterial}}),t._v(" "),a("popup-picker",{attrs:{placeholderTitle:t.popupTestlObj.placeholderTitle,popupTitle:t.popupTestlObj.popupTitle,popupList:t.popupTestlObj.popupList,activelyData:t.popupTestlObj.activelyData},on:{changeData:t.changeTest}})],1),t._v(" "),a("x-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.allocationLabmanage_EngineerList()}}},[t._v("确定")])],1)},staticRenderFns:[]};var o=a("VU/8")(p,n,!1,function(t){a("HfUI")},"data-v-a8ed0e50",null);e.default=o.exports}});
//# sourceMappingURL=53.3fbc86c46acce02cebdb.js.map
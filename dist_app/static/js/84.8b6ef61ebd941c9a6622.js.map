{"version":3,"sources":["webpack:///./src/view/LabManager/taskAllocation/projectAllocation.vue","webpack:///./src/view/LabManager/taskAllocation/projectAllocation.vue?8017","webpack:///./src/view/LabManager/taskAllocation/projectAllocation.vue?944f"],"names":["taskAllocation_projectAllocation","popupPicker","name","components","data","popupObj","placeholderTitle","popupTitle","popupList","activelyData","Labmanage_projectDetailList","mounted","this","$emit","blod","title","getLabmanage_projectDetailList","methods","goProjectSelectDetail","item","$router","push","query","projectName","projectID","id","_this","$vux","loading","show","$http","get","$conf","env","$route","then","res","experiments","disabled","project_leader","getLabmanage_projectEngineerList","hide","catch","err","toast","text","response","_this2","length","forEach","Element","value","toString","setActivelyData","allocationLabmanage_projectLeader","_this3","put","status","back","LabManager_taskAllocation_projectAllocation","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","changeData","_v","_l","index","key","class","click","$event","_s","type","nativeOn","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/84.8b6ef61ebd941c9a6622.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport popupPicker from '../../../components/PopupPicker';\r\nexport default {\r\n    name:'projectAllocation',\r\n    components: {popupPicker},\r\n    data(){\r\n        return{\r\n            popupObj:{\r\n                placeholderTitle:'选择负责人',\r\n                popupTitle:'项目分配',\r\n                popupList:[],\r\n                activelyData:[], \r\n            },\r\n            Labmanage_projectDetailList:[]\r\n        }\r\n    },\r\n\r\n    mounted(){\r\n        this.$emit('setHeaderShow', {blod:true,title:'项目分配'});\r\n        this.getLabmanage_projectDetailList();\r\n    },\r\n    methods:{\r\n        goProjectSelectDetail(item){\r\n            this.$router.push({name:'projectSelectDetail', query:{projectName:item.name,projectID:item.id}})\r\n        },\r\n\r\n        getLabmanage_projectDetailList(){\r\n            this.$vux.loading.show();\r\n            this.$http.get(this.$conf.env.getLabmanage_projectDetailList + this.$route.query.projectID + '/').then(res =>{\r\n                this.Labmanage_projectDetailList = res.data.experiments;\r\n                this.disabled = res.data.project_leader ? true : false;\r\n                this.popupObj.placeholderTitle = res.data.project_leader ?res.data.project_leader : '选择负责人';\r\n                res.data.project_leader?'':this.getLabmanage_projectEngineerList();\r\n                this.$vux.loading.hide();\r\n            }).catch(err =>{\r\n                this.$vux.loading.hide();\r\n                this.$vux.toast.text(err.response?err.response.data:'服务器错误', 'top');\r\n            })\r\n        },\r\n\r\n        getLabmanage_projectEngineerList(project_leader){\r\n            this.$http.get(this.$conf.env.getLabmanage_projectEngineerList).then(res =>{\r\n                if(res.data.length == 0) return;\r\n                res.data.forEach(Element =>{\r\n                    Element.value = Element.id.toString();\r\n                })\r\n                this.popupObj.popupList = res.data;\r\n            }).catch(err =>{\r\n                this.$vux.toast.text(err.response?err.response.data:'服务器错误', 'top');\r\n            })\r\n        },\r\n\r\n        setActivelyData(data){\r\n            this.popupObj.activelyData = data;\r\n        },\r\n        allocationLabmanage_projectLeader(){\r\n            if(this.disabled){\r\n                this.$vux.toast.text('该项目已分配负责人')\r\n            }else{\r\n                if(this.popupObj.activelyData.length){\r\n                    this.$http.put(this.$conf.env.allocationLabmanage_projectLeader + this.$route.query.projectID + '/',{'project_leader':this.popupObj.activelyData[0]-0}).then(res =>{\r\n                        if(res.status == '200'){\r\n                            this.$vux.toast.text('分配成功');\r\n                            this.$router.back();\r\n                        }else{\r\n                            this.$vux.toast.text('分配失败')             \r\n                        }\r\n                    }).catch( err =>{\r\n                        this.$vux.toast.text(err.response?err.response.data:'服务器错误')\r\n                    })\r\n                }else{\r\n                    this.$vux.toast.text('请选择项目负责人')\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/view/LabManager/taskAllocation/projectAllocation.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"projectAllocation body_main\"},[_c('popup-picker',{attrs:{\"placeholderTitle\":_vm.popupObj.placeholderTitle,\"disabled\":_vm.disabled,\"popupTitle\":_vm.popupObj.popupTitle,\"popupList\":_vm.popupObj.popupList,\"activelyData\":_vm.popupObj.activelyData},on:{\"changeData\":_vm.setActivelyData}}),_vm._v(\" \"),_c('div',{staticClass:\"projectAllocation_list\"},[_c('ul',_vm._l((_vm.Labmanage_projectDetailList),function(item,index){return _c('li',{key:item,class:index==(_vm.Labmanage_projectDetailList.length-1)?'':'vux-1px-b',on:{\"click\":function($event){return _vm.goProjectSelectDetail(item)}}},[_c('span',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('span',{staticClass:\"weui-cell__ft\"})])}),0)]),_vm._v(\" \"),_c('x-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.allocationLabmanage_projectLeader()}}},[_vm._v(\"确定\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3e8193ec\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/LabManager/taskAllocation/projectAllocation.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3e8193ec\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vux-loader/src/style-loader.js!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./projectAllocation.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vux-loader/src/script-loader.js!../../../../node_modules/vux-loader/src/script-loader.js!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./projectAllocation.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vux-loader/src/script-loader.js!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./projectAllocation.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3e8193ec\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../../node_modules/vux-loader/src/template-loader.js!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./projectAllocation.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3e8193ec\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/LabManager/taskAllocation/projectAllocation.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
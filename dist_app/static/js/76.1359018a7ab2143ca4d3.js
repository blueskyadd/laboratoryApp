webpackJsonp([76],{LiG1:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("7biW"),a=i("Q6Ck"),n=(e.a,a.a,{name:"EquipmentHistory",components:{Search:e.a,mainList:a.a},data:function(){return{Labmanage_finishprojectList:[],searchText:"",islistData:!1}},mounted:function(){this.$emit("setHeaderShow",{blod:!0,title:"历史项目"}),this.getLabmanage_finishprojectList(1,"",12)},methods:{gotextSynopsis:function(t){this.$router.push({name:"EquipmenthistoryDetail",query:{projectID:t.id}})},EquipmentHistoryDetail:function(t){this.$router.push({name:"EquipmentHistoryDetail",query:{projectID:t.id,projectNum:t.number}})},getLabmanage_finishprojectList:function(t,s,i,e,a,n){var o=this;this.$vux.loading.show(),this.$http.get(1==t?this.$conf.env.getLabmanage_finishprojectList+"?search="+s+"&page_size="+i:this.$conf.env.getLabmanage_finishprojectList+"?search="+s+"&p="+t+"&page_size="+i).then(function(i){s?n(i.data.results):o.Labmanage_finishprojectList=1==t?i.data.results:o.Labmanage_finishprojectList.concat(i.data.results),1!=t?i.data.next?e():a():i.data.next?o.$refs.mainList.scrollpullupStatus(!1):o.$refs.mainList.scrollpullupStatus(!0),o.islistData=!(o.Labmanage_finishprojectList.length>0),o.$vux.loading.hide()}).catch(function(t){o.$vux.loading.hide(),o.$refs.mainList.scrollpullupStatus(!0),o.$vux.toast.text(t.response?t.response.data:"服务器错误","top")})},loadmore:function(t,s,i){this.getLabmanage_finishprojectList(t,this.searchText,12,function(){s()},function(){i()})},searchList:function(t){var s=this;this.searchText=t,this.getLabmanage_finishprojectList(1,t,500,function(){},function(){},function(t){s.Labmanage_finishprojectList=t})}}}),o={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"EquipmentHistory body_main"},[i("Search",{on:{searchList:t.searchList}}),t._v(" "),i("main-list",{ref:"mainList",attrs:{islistData:t.islistData},on:{loadmore:t.loadmore}},[t._l(t.Labmanage_finishprojectList,function(s,e){return i("li",{key:e,on:{click:function(i){return t.EquipmentHistoryDetail(s)}}},[i("div",{staticClass:"firstChild ststusTextTrue"},[i("span",{staticClass:"projectNumber rightStatus"},[t._v(t._s(s.number)),i("span",{staticClass:"underline",on:{click:function(i){return i.stopPropagation(),t.gotextSynopsis(s)}}},[t._v("项目介绍")])]),t._v(" "),"完成"==s.status?i("span",{staticClass:"normal ststusText"},[i("i"),t._v("完成")]):i("span",{staticClass:"maintain ststusText"},[i("i"),t._v("关闭")])]),t._v(" "),i("div",{staticClass:"twoChild equilpmentName"},[i("span",{staticClass:"projectName"},[t._v("项目名称："+t._s(s.name))]),i("span",{staticClass:"right_natrue"},[t._v("项目性质："),i("i",[t._v(t._s(s.project_type))])])]),t._v(" "),i("div",{staticClass:"twoChild"},[i("i"),i("span",[t._v("项目创建时间："+t._s(s.create_time))])]),t._v(" "),i("div",{staticClass:"Time thereChild"},[i("i"),i("span",{staticClass:"time_end time_overTime"},[t._v("项目完成时间："+t._s(s.report_time))])])])})],2)],1)},staticRenderFns:[]};var r=i("VU/8")(n,o,!1,function(t){i("fduo")},null,null);s.default=r.exports},fduo:function(t,s){}});
//# sourceMappingURL=76.1359018a7ab2143ca4d3.js.map
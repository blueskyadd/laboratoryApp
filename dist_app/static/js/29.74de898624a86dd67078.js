webpackJsonp([29],{"5nJd":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7Ah8"),n={mixins:[s("OFgA").a],props:{required:{type:Boolean,default:!1}},created:function(){this.handleChangeEvent=!1},computed:{dirty:{get:function(){return!this.pristine},set:function(t){this.pristine=!t}},invalid:function(){return!this.valid}},methods:{setTouched:function(){this.touched=!0}},watch:{value:function(t){!0===this.pristine&&(this.pristine=!1),this.handleChangeEvent||(this.$emit("on-change",t),this.$emit("input",t))}},data:function(){return{errors:{},pristine:!0,touched:!1}}},a=(Number,Boolean,{name:"x-progress",mixins:[n],props:{percent:{type:Number,default:0},showCancel:{type:Boolean,default:!0}},methods:{cancel:function(){this.$emit("on-cancel")}}}),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-progress"},[e("div",{staticClass:"weui-progress__bar"},[e("div",{staticClass:"weui-progress__inner-bar",style:{width:this.percent+"%"}})]),this._v(" "),e("a",{directives:[{name:"show",rawName:"v-show",value:this.showCancel,expression:"showCancel"}],staticClass:"weui-progress_opr",attrs:{href:"javascript:;"}},[e("i",{staticClass:"weui-icon-cancel",on:{click:this.cancel}})])])},staticRenderFns:[]};var c=s("VU/8")(a,o,!1,function(t){s("i4AK")},null,null).exports,r=(i.a,{name:"ProjectSchedule",components:{PopupPicker:i.a,XProgress:c},data:function(){return{value1:[],showAddress:!1,Schedule:71,popupList:[],projectpctFlow:[]}},mounted:function(){this.getProductManager_produceList()},methods:{changeRighTitle:function(){this.showAddress=!0},toPoint:function(t){return t?parseInt(1*t.replace("%","")):0},changeTitle:function(t){var e=this;this.$parent.isHiddenBox=!1,this.popupList.forEach(function(t){t.value==e.value1[0]&&(e.$parent.rightTitle=t.name,e.projectID=t.id)}),this.getProductManager_projectpctFlow(this.projectID)},getProductManager_produceList:function(){var t=this;this.$vux.loading.show(),this.$http.get(this.$conf.env.getProductManager_produceList).then(function(e){e.data.length&&(e.data.forEach(function(t){t.value=t.id.toString()}),t.$emit("setHeaderShow",{blod:!0,title:"试验信息",isRightTitle:!0,rightTitle:e.data[0].name}),t.projectID=e.data[0].id),t.getProductManager_projectpctFlow(t.projectID),t.popupList=e.data,t.$vux.loading.hide()}).catch(function(e){t.$vux.loading.hide(),t.$vux.toast.text(e.response?e.response.data:"服务器错误","top")})},getProductManager_projectpctFlow:function(t){var e=this;this.$http.get(this.$conf.env.getProductManager_projectpctFlow+t).then(function(t){t.data.length>0&&t.data.forEach(function(t,s){t.isHiddenBox=!1,e.$http.get(e.$conf.env.getProductManager_expctList+t.id).then(function(e){t.experiment_project=e.data?e.data:[],t.isexperiment_project=!!e.data.length}).catch(function(s){t.experiment_project=[],t.isexperiment_project=!1,e.$message({message:s.response?s.response.data:"服务器错误",type:"warning"})})}),e.projectpctFlow=t.data,console.log(e.projectpctFlow),e.$vux.loading.hide()}).catch(function(t){e.$vux.loading.hide(),e.$vux.toast.text(t.response?t.response.data:"服务器错误","top")})}}}),p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ProjectSchedule body_main"},[t._l(t.projectpctFlow,function(e){return s("div",{key:e.id,staticClass:"progressList"},[s("div",{staticClass:"ProjectSchedule_title"},[s("div",{staticClass:"leftDom"},[s("div",{staticClass:"name_title"},[s("span",[t._v(t._s(e.name))]),s("span",[t._v(t._s(e.project_leader))])]),t._v(" "),s("x-progress",{attrs:{percent:t.toPoint(e.pct),"show-cancel":!1}})],1),t._v(" "),s("span",{staticClass:"unfold",class:e.isHiddenBox?"hiddenHeight":"",on:{click:function(t){e.isHiddenBox=!e.isHiddenBox}}})]),t._v(" "),s("div",{staticClass:"experiment_project",class:e.isHiddenBox?"":"experiment_project_height"},[s("h3",[t._v("试验列表")]),t._v(" "),s("ul",[t._l(e.experiment_project,function(e){return s("li",{key:e.id,staticClass:"vux-1px-b"},[s("div",{staticClass:"ProjectSchedule_title"},[s("div",{staticClass:"leftDom"},[s("div",{staticClass:"name_title"},[s("span",[t._v(t._s(e.name))]),s("span",[t._v(t._s(e.project_leader))])]),t._v(" "),s("x-progress",{attrs:{percent:t.toPoint(e.pct),"show-cancel":!1}})],1),t._v(" "),s("span",{staticClass:"status",style:{color:"正常"==e.status?"#07a695":"#f10000"}},[t._v(t._s(e.status))])])])}),t._v(" "),e.isexperiment_project?t._e():s("li",{staticClass:"noStatus"},[s("span",[t._v("暂无数据")])])],2)])])}),t._v(" "),s("popup-picker",{ref:"rightTitle",staticStyle:{display:"none"},attrs:{data:t.popupList,show:t.showAddress,columns:1},on:{"update:show":function(e){t.showAddress=e},"on-hide":t.changeTitle},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],2)},staticRenderFns:[]};var l=s("VU/8")(r,p,!1,function(t){s("sBQb")},null,null);e.default=l.exports},i4AK:function(t,e){},sBQb:function(t,e){}});
//# sourceMappingURL=29.74de898624a86dd67078.js.map
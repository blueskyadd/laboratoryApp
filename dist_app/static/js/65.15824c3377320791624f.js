webpackJsonp([65],{dA48:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7biW"),n=s("Q6Ck"),a=s("odqc"),r=s("Znkm"),o=s("fBcm"),c=s("b+jt"),l=(i.a,n.a,a.a,r.a,o.a,c.a,{name:"TestComplete",components:{Search:i.a,mainList:n.a,Tab:a.a,TabItem:r.a,Swiper:o.a,SwiperItem:c.a},data:function(){return{isStatus:!1,list2:["试验","项目"],index:0,demo2:"试验",Testengineer__finishexperimentList:[],searchText:"",islistData:!1,Testengineer__finishprojectList:[],islistDataIndex:!1,searchTextIndex:""}},mounted:function(){this.$emit("setHeaderShow",{blod:!0,title:"完成任务"}),this.getTestengineer__finishexperimentList(1,"",12),this.getTestengineer__finishprojectList(1,"",12)},methods:{TestCompleteDetail:function(t){this.$router.push({name:"TestCompleteDetail",query:{projectID:t.id}})},getTestengineer__finishexperimentList:function(t,e,s,i,n,a){var r=this;this.$vux.loading.show(),this.$http.get(1==t?this.$conf.env.getTestengineer__finishexperimentList+"?search="+e+"&page_size="+s:this.$conf.env.getTestengineer__finishexperimentList+"?search="+e+"&p="+t+"&page_size="+s).then(function(s){e?a(s.data.results):r.Testengineer__finishexperimentList=1==t?s.data.results:r.Testengineer__finishexperimentList.concat(s.data.results),1!=t?s.data.next?i():n():s.data.next?r.$refs.mainList.scrollpullupStatus(!1):r.$refs.mainList.scrollpullupStatus(!0),r.islistData=!(r.Testengineer__finishexperimentList.length>0),r.$vux.loading.hide()}).catch(function(t){r.$vux.loading.hide(),r.$refs.mainList.scrollpullupStatus(!0),r.$vux.toast.text(t.response?t.response.data:"服务器错误","top")})},getTestengineer__finishprojectList:function(t,e,s,i,n,a){var r=this;this.$vux.loading.show(),this.$http.get(1==t?this.$conf.env.getTestengineer__finishprojectList+"?search="+e+"&page_size="+s:this.$conf.env.getTestengineer__finishprojectList+"?search="+e+"&p="+t+"&page_size="+s).then(function(s){e?a(s.data.results):r.Testengineer__finishprojectList=1==t?s.data.results:r.Testengineer__finishprojectList.concat(s.data.results),1!=t?s.data.next?i():n():s.data.next?r.$refs.mainListIndex.scrollpullupStatus(!1):r.$refs.mainListIndex.scrollpullupStatus(!0),r.islistDataIndex=!(r.Testengineer__finishprojectList.length>0),r.$vux.loading.hide()}).catch(function(t){r.$vux.loading.hide(),r.$refs.mainListIndex.scrollpullupStatus(!0),r.$vux.toast.text(t.response?t.response.data:"服务器错误","top")})},loadmore:function(t,e,s){0==this.index?this.getTestengineer__finishexperimentList(t,this.searchText,12,function(){e()},function(){s()}):this.getTestengineer__finishprojectList(t,this.searchTextIndex,12,function(){e()},function(){s()})},searchList:function(t){var e=this;0==this.index?(this.searchText=t,this.getTestengineer__finishexperimentList(1,t,500,function(){},function(){},function(t){e.Testengineer__finishexperimentList=t})):(this.searchTextIndex=t,this.getTestengineer__finishprojectList(1,t,500,function(){},function(){},function(t){e.Testengineer__finishprojectList=t}))}},watch:{index:function(){0==this.index?this.$refs.searchList.setValue(this.searchText):this.$refs.searchList.setValue(this.searchTextIndex)}}}),_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"TestComplete body_main"},[s("Search",{ref:"searchList",on:{searchList:t.searchList}}),t._v(" "),s("div",{staticClass:"swiper_box"},[s("tab",{attrs:{"line-width":2,"active-color":"#07A695","custom-bar-width":"1.8rem"},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},t._l(t.list2,function(e,i){return s("tab-item",{key:i,staticClass:"vux-center",attrs:{selected:t.demo2===e},on:{click:function(s){t.demo2=e}}},[t._v(t._s(e))])}),1),t._v(" "),s("swiper",{attrs:{"show-dots":!1},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},[s("swiper-item",[s("main-list",{ref:"mainList",attrs:{islistData:t.islistData},on:{loadmore:t.loadmore}},[t._l(t.Testengineer__finishexperimentList,function(e,i){return s("li",{key:i},[s("div",{staticClass:"firstChild ststusTextTrue"},[s("span",{staticClass:"projectNumber rightStatus"},[t._v(t._s(e.experiment_num))]),t._v(" "),"合格"==e.result?s("span",{staticClass:"normal ststusText"},[s("i"),t._v("合格")]):s("span",{staticClass:"maintain ststusText"},[s("i"),t._v(t._s(e.result))])]),t._v(" "),s("div",{staticClass:"twoChild equilpmentName"},[s("span",{staticClass:"projectName"},[t._v("项目名称："+t._s(e.name))]),s("span",{staticClass:"right_natrue "},[s("a",{staticClass:"underline",attrs:{href:e.method,download:"试验方法"}},[t._v("试验方法")])])]),t._v(" "),s("div",{staticClass:"twoChild"},[s("i"),s("span",[t._v("试验开始时间："+t._s(e.start_time))])]),t._v(" "),s("div",{staticClass:"Time thereChild"},[s("i"),s("span",{staticClass:"time_end time_overTime"},[s("p",{staticClass:"overTime"},[t._v("试验完成时间："+t._s(e.test_end_time))])]),s("span",{staticClass:"right_natrue"},[t._v("试验类型："),s("i",[t._v(t._s(e.project_type))])])])])})],2)],1),t._v(" "),s("swiper-item",[s("main-list",{ref:"mainListIndex",attrs:{islistData:t.islistDataIndex},on:{loadmore:t.loadmore}},[t._l(t.Testengineer__finishprojectList,function(e,i){return s("li",{key:i,on:{click:function(s){return t.TestCompleteDetail(e)}}},[s("div",{staticClass:"firstChild ststusTextTrue"},[s("span",{staticClass:"projectNumber"},[t._v(t._s(e.number))])]),t._v(" "),s("div",{staticClass:"twoChild equilpmentName"},[s("span",{staticClass:"projectName"},[t._v("项目名称："+t._s(e.name))])]),t._v(" "),s("div",{staticClass:"twoChild"},[s("i"),s("span",[t._v("试验开始时间："+t._s(e.start_time))])]),t._v(" "),s("div",{staticClass:"Time thereChild"},[s("i"),s("span",{staticClass:"time_end time_overTime"},[s("p",{staticClass:"overTime"},[t._v("试验完成时间："+t._s(e.report_time))])]),s("span",{staticClass:"right_natrue"},[t._v("试验类型："),s("i",[t._v(t._s(e.project_type))])])])])})],2)],1)],1)],1)],1)},staticRenderFns:[]};var h=s("VU/8")(l,_,!1,function(t){s("sJDP")},null,null);e.default=h.exports},sJDP:function(t,e){}});
//# sourceMappingURL=65.15824c3377320791624f.js.map
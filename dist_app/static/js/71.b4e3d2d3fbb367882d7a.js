webpackJsonp([71],{B4LD:function(t,e){},DRw2:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7biW"),n=s("Q6Ck"),a=s("odqc"),r=s("Znkm"),o=s("fBcm"),c=s("b+jt"),l=(i.a,n.a,a.a,r.a,o.a,c.a,{name:"TestComplete",components:{Search:i.a,mainList:n.a,Tab:a.a,TabItem:r.a,Swiper:o.a,SwiperItem:c.a},data:function(){return{isStatus:!1,list2:["试验","项目"],index:0,demo2:"试验",Testengineer__myexperimentList:[],searchText:"",islistData:!1,Testengineer__myprojectList:[],islistDataIndex:!1,searchTextIndex:""}},mounted:function(){this.$emit("setHeaderShow",{blod:!0,title:"未完成任务"}),this.getTestengineer__myexperimentList(1,"",12),this.getTestengineer__myprojectList(1,"",12)},methods:{goTestUnCompleteDeatil:function(t){this.$router.push({name:"TestUnCompleteDeatil",query:{projectID:t.id}})},goMaterialFlow:function(t){this.$router.push({name:"MaterialFlow",query:{projectID:t.id}})},goTestMethods:function(){this.$router.push({name:"TestMethods"})},getTestengineer__myexperimentList:function(t,e,s,i,n,a){var r=this;this.$vux.loading.show(),this.$http.get(1==t?this.$conf.env.getTestengineer__myexperimentList+"?search="+e+"&page_size="+s:this.$conf.env.getTestengineer__myexperimentList+"?search="+e+"&p="+t+"&page_size="+s).then(function(s){e?a(s.data.results):r.Testengineer__myexperimentList=1==t?s.data.results:r.Testengineer__myexperimentList.concat(s.data.results),1!=t?s.data.next?i():n():s.data.next?r.$refs.mainList.scrollpullupStatus(!1):r.$refs.mainList.scrollpullupStatus(!0),r.islistData=!(r.Testengineer__myexperimentList.length>0),r.$vux.loading.hide()}).catch(function(t){r.$vux.loading.hide(),r.$refs.mainList.scrollpullupStatus(!0),r.$vux.toast.text(t.response?t.response.data:"服务器错误","top")})},getTestengineer__myprojectList:function(t,e,s,i,n,a){var r=this;this.$vux.loading.show(),this.$http.get(1==t?this.$conf.env.getTestengineer__myprojectList+"?search="+e+"&page_size="+s:this.$conf.env.getTestengineer__myprojectList+"?search="+e+"&p="+t+"&page_size="+s).then(function(s){e?a(s.data.results):r.Testengineer__myprojectList=1==t?s.data.results:r.Testengineer__myprojectList.concat(s.data.results),1!=t?s.data.next?i():n():s.data.next?r.$refs.mainListIndex.scrollpullupStatus(!1):r.$refs.mainListIndex.scrollpullupStatus(!0),r.islistDataIndex=!(r.Testengineer__myprojectList.length>0),r.$vux.loading.hide()}).catch(function(t){r.$vux.loading.hide(),r.$refs.mainListIndex.scrollpullupStatus(!0),r.$vux.toast.text(t.response?t.response.data:"服务器错误","top")})},loadmore:function(t,e,s){0==this.index?this.getTestengineer__myexperimentList(t,this.searchText,12,function(){e()},function(){s()}):this.getTestengineer__myprojectList(t,this.searchTextIndex,12,function(){e()},function(){s()})},searchList:function(t){var e=this;0==this.index?(this.searchText=t,this.getTestengineer__myexperimentList(1,t,500,function(){},function(){},function(t){e.Testengineer__myexperimentList=t})):(this.searchTextIndex=t,this.getTestengineer__myprojectList(1,t,500,function(){},function(){},function(t){e.Testengineer__myprojectList=t}))}},watch:{index:function(){0==this.index?this.$refs.searchList.setValue(this.searchText):this.$refs.searchList.setValue(this.searchTextIndex)}}}),u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"TestComplete body_main"},[s("Search",{ref:"searchList",on:{searchList:t.searchList}}),t._v(" "),s("div",{staticClass:"swiper_box"},[s("tab",{attrs:{"line-width":2,"active-color":"#07A695","custom-bar-width":"1.8rem"},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},t._l(t.list2,function(e,i){return s("tab-item",{key:i,staticClass:"vux-center",attrs:{selected:t.demo2===e},on:{click:function(s){t.demo2=e}}},[t._v(t._s(e))])}),1),t._v(" "),s("swiper",{attrs:{"show-dots":!1},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},[s("swiper-item",[s("main-list",{ref:"mainList",attrs:{islistData:t.islistData},on:{loadmore:t.loadmore}},[t._l(t.Testengineer__myexperimentList,function(e,i){return s("li",{key:i,on:{click:function(s){return t.goMaterialFlow(e)}}},[s("div",{staticClass:"firstChild ststusTextTrue"},[s("span",{staticClass:"projectNumber"},[t._v(t._s(e.experiment_num))])]),t._v(" "),s("div",{staticClass:"twoChild equilpmentName"},[s("span",{staticClass:"projectName"},[t._v("项目名称："+t._s(e.name))]),s("span",{staticClass:"right_natrue "},[s("a",{staticClass:"underline",attrs:{href:e.method,download:"试验方法"}},[t._v("试验方法")])])]),t._v(" "),s("div",{staticClass:"twoChild"},[s("i"),s("span",[t._v("试验开始时间："+t._s(e.start_time))])]),t._v(" "),s("div",{staticClass:"twoChild"},[s("i"),s("span",[t._v("试验结束时间："+t._s(e.start_time))])]),t._v(" "),s("div",{staticClass:"Time thereChild"},[s("i"),s("span",{staticClass:"time_end"},[t._v("试验周期："+t._s(e.cycle))]),s("span",{staticClass:"right_natrue"},[t._v("试验类型："),s("i",[t._v(t._s(e.type_))])]),s("span",{staticClass:"right_natrue"},[t._v("值守："),s("i",[t._v(t._s(e.onduty))])])])])})],2)],1),t._v(" "),s("swiper-item",[s("main-list",{ref:"mainListIndex",attrs:{islistData:t.islistDataIndex},on:{loadmore:t.loadmore}},[t._l(t.Testengineer__myprojectList,function(e,i){return s("li",{key:i,on:{click:function(s){return t.goTestUnCompleteDeatil(e)}}},[s("div",{staticClass:"firstChild ststusTextTrue"},[s("span",{staticClass:"projectNumber"},[t._v(t._s(e.number))])]),t._v(" "),s("div",{staticClass:"twoChild equilpmentName"},[s("span",{staticClass:"projectName"},[t._v("项目名称："+t._s(e.name))])]),t._v(" "),s("div",{staticClass:"twoChild"},[s("i"),s("span",[t._v("试验开始时间："+t._s(e.start_time))])]),t._v(" "),s("div",{staticClass:"Time thereChild"},[s("i"),s("span",{staticClass:"right_natrue",staticStyle:{"margin-left":"0"}},[t._v("试验类型："),s("i",[t._v(t._s(e.project_type))])])])])})],2)],1)],1)],1)],1)},staticRenderFns:[]};var _=s("VU/8")(l,u,!1,function(t){s("B4LD")},null,null);e.default=_.exports}});
//# sourceMappingURL=71.b4e3d2d3fbb367882d7a.js.map